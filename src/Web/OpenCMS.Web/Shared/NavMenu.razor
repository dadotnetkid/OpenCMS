@using OpenCMS.Web.Application.Interfaces
@inject IUserService _userService
@inject IAuthenticationService _authenticationService
<MudNavMenu>
    <MudText Typo="Typo.h5" Class="px-4" IconColor="Color.Inherit">Open ERP</MudText>
    <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary" IconColor="Color.Inherit">@_userService.GetUserName()</MudText>
    <MudDivider Class="my-2" />
    <MudNavLink Icon="@Icons.Filled.Dashboard" Href="/" Match="NavLinkMatch.All" IconColor="Color.Inherit">Dashboard</MudNavLink>

    <MudNavLink Icon="@Icons.Filled.BarChart" Href="/chart-of-accounts" IconColor="Color.Inherit">Chart of Accounts</MudNavLink>
    <MudNavLink Icon="@Icons.Filled.PersonSearch" Href="/card-files" IconColor="Color.Inherit">Card Files</MudNavLink>
    <MudNavLink Icon="@Icons.Filled.PointOfSale" Href="/sales" IconColor="Color.Inherit">Sales</MudNavLink>
    <MudNavGroup Icon="@Icons.Filled.Inventory2" Title="Inventory" IconColor="Color.Inherit">
        <MudNavLink Icon="@Icons.Filled.ShoppingCart" Href="/catalogs" IconColor="Color.Inherit">Catalogs</MudNavLink>

    </MudNavGroup>
    <MudNavGroup Icon="@Icons.Filled.Settings" Title="Settings" IconColor="Color.Inherit">
        <MudNavLink Icon="@Icons.Filled.AccountCircle" Href="/settings/users" IconColor="Color.Inherit">Users</MudNavLink>

        <MudNavLink Icon="@Icons.Filled.Web" Href="/settings/web-hooks" IconColor="Color.Inherit">WebHooks</MudNavLink>
        <MudNavLink Href="/security" IconColor="Color.Inherit">Security</MudNavLink>
    </MudNavGroup>
    <MudNavLink Icon="@Icons.Filled.Info" Href="/about" IconColor="Color.Inherit">About</MudNavLink>
</MudNavMenu>

@code {
    private bool collapseNavMenu = true;

    private string NavMenuCssClass => collapseNavMenu ? "collapse" : null;
    private List<string> roles = new List<string>();
    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }

    private async Task logout()
    {
       await _authenticationService.Logout();
    }

}
