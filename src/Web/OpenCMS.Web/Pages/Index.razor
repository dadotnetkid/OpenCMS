@page "/"

@attribute [Authorize]
@inject IJSRuntime _jsRuntime
@inject IConfiguration _configuration
<h1>Hello, world!</h1>

Welcome to your new app.

<SurveyPrompt Title="How is Blazor working for you?" />
<div id="card-element">

</div>
@code{
    protected override async Task OnInitializedAsync()
    {

        await _jsRuntime.InvokeVoidAsync("initializeStripe", _configuration.GetSection("Stripe:Key").Value);
    }
    protected override async void OnAfterRender(bool firstRender)
    {

        await _jsRuntime.InvokeVoidAsync("initiateCard");
    }
}